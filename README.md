# Wplace Monitor

## 简介
用于监控 wplace 领地状态的桌面程序。

---

## 安装
### Windows
1. 从[这里](https://github.com/kompl3xpr/wplace_monitor_py/releases/latest/download/wplace_monitor_gui_windows_x64.zip)下载程序的压缩包。
2. 解压到任意文件夹，确保权限正常。
3. 运行 `.exe` 程序。

### 其他操作系统
若使用其他操作系统，可尝试手动从源码打包：
1. 使用任何方式下载该仓库的源代码。
2. 安装最新版的 Python。
3. 在项目的根目录运行 `setup.py` 文件。
4. 打包后的引用程序会存放在 `dist/` 目录。



## 使用方式

### 核心概念

* **区域（Area）**：wplace.live 将整个世界划分为无数个正方形区域，每个区域的尺寸固定为 **1000x1000** 像素。每个区域都有对应的区域坐标，也就是 Blue Marble 插件下的 `tl_x` 和 `tl_y`）。
* **参考图（Reference Image）**：当你创建一个新区域时，该区域的当前状态会自动保存为「参考图」。你可以随时导入新图片或将区域的实时状态设置为新的参考图，以更新检查的基准。
* **遮罩（Mask）**：你可以使用内置工具或导入图片来精确地定义遮罩区域。系统只会对这些被遮罩的部分进行异常像素检查。
* **异常像素（Anomalous Pixel）**：当工具执行检查时，如果遮罩区域内的某个像素颜色与「参考图」中对应位置的像素颜色不一致，该像素就会被标记为异常。这些异常像素会在区域视图中以醒目的**红色高光**显示，同时工具会精准定位并显示其在参考图中本来的颜色，方便你进行对比。


### 区域管理

#### 添加区域

点击界面上的 **「添加」** 按钮，输入区域名称（请使用字母、数字和下划线的组合，如：`beagle_duodong_01`），然后填入该区域的 **XY** 坐标，即可快速创建新区域。

### 删除区域

选择你想要删除的区域，进入 **「区域详情」** 页面后，点击上方工具栏的 **「编辑」**，然后选择**「删除区域」**，即可将该区域永久移除。

### 编辑区域

在 **「区域详情」** 页面，你可以使用工具栏中的编辑功能对区域进行精细化管理。

#### 1. 修改基本信息
你可以在此更改区域的名称和坐标，但请务必遵循指定的命名格式。

#### 2. 设置遮罩
有两种方式来定义你的遮罩区域：
* **方式一：手动绘制**

    1.  点击 **「编辑遮罩」**。
    2.  使用绘图工具，用**白色**标记需要检查的区域，用**黑色**标记不需要检查的区域。
    3.  点击 **「保存遮罩」**。

* **方式二：导入图片**

    1.  点击 **「导入遮罩」**。
    2.  选择你预先准备好的遮罩图片进行导入，确保大小在 1000×1000 像素。

#### 3. 更新参考图
更新参考图有两种方法：
* **方式一：实时捕获**

    点击 **「把当前状态设置为参考图」**，系统会立即将该区域的实时画面保存为新的参考基准。
* **方式二：导入图片**

    选择一张你希望作为参考图的本地图片进行导入，确保大小在 1000×1000 像素。

---

## 区域检查与通知

### 检查区域

系统通过对比遮罩区域与参考图来检查异常，有两种检查方式：

* **手动检查**

    在主页点击 **「检查全部」**，或在 **「区域详情」** 页点击 **「检查」** 按钮。请注意，为避免系统过载，请勿过于频繁地进行手动检查。

* **自动检查**

    在主页点击 **「设置」**，你可以自定义自动检查的刷新间隔，以及其他个性化功能。你也可以随时在主页点击 **「关闭自动检查」** 来停止该功能。

### 异常通知

手动检查或自动检查时，若发现遮罩区域存在异常像素时，系统会在右下角弹出通知并播放声音（可设置音量）。若一切正常，则不会有任何提醒。